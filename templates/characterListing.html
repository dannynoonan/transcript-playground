{% extends "base.html" %}

{% block title %} 
	<title>{{ tdata['show_key'] }}: {{ tdata['episode']['title'] }}</title>
{% endblock %} 

{% block content %} 
	<div class="margin">
		<h3>Chatter</h3>
		<table class="table table-hover table-striped table-fit">
			<thead>
				<tr class="table-success">
					<th scope="col">Character</th>
                    <th scope="col">Seasons</th>
                    <th scope="col">Episodes</th>
					<th scope="col">Scenes</th>
					<th scope="col">Lines</th>
					<th scope="col">Words</th>
			  	</tr>
			</thead>
			<tbody>
				{% for speaker in tdata['speaker_counts'] %}
				<tr class="table-secondary">
                    <th scope="row">
                        {% if speaker['speaker'] == '_ALL_' %}
                            [ALL]
                        {% else %}
                            <a class="alert-link" href="/web/character/{{ tdata['show_key'] }}/{{ speaker['speaker'] }}">{{ speaker['speaker'] }}</a>
                        {% endif %}
                    </th>
                    <td>...</td>
                    <td>
                        {% if speaker['speaker'] == '_ALL_' %}
                            {{ speaker['episode_count'] }}
                        {% else %}
                            <a href="/web/episode_search/{{ tdata['show_key'] }}?speaker={{ speaker['speaker'] }}&search_type=advanced" 
                                class="alert-link" >{{ speaker['episode_count'] }}</a>
                        {% endif %}
                    </td>
					<td>{{ speaker['scene_count'] }}</td>
					<td>{{ speaker['line_count'] }}</td>
					<td>{{ speaker['word_count'] }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
		<p>&nbsp;</p>

	</div>
{% endblock %} 